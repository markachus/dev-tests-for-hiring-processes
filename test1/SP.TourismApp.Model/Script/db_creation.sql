CREATE TABLE [dbo].[Activity] (
    [Id] [int] NOT NULL IDENTITY,
    [Description] [nvarchar](255) NOT NULL,
    [Distance] [decimal](18, 2) NOT NULL,
    [Price] [decimal](18, 2) NOT NULL,
    [Longitude] [float] NOT NULL,
    [Latitude] [float] NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    CONSTRAINT [PK_dbo.Activity] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Category] (
    [Id] [int] NOT NULL IDENTITY,
    [Description] [nvarchar](255) NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    CONSTRAINT [PK_dbo.Category] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[ActivityImage] (
    [Id] [int] NOT NULL IDENTITY,
    [Path] [nvarchar](max),
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    [Activity_Id] [int],
    CONSTRAINT [PK_dbo.ActivityImage] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Activity_Id] ON [dbo].[ActivityImage]([Activity_Id])
CREATE TABLE [dbo].[User] (
    [Id] [int] NOT NULL IDENTITY,
    [Email] [nvarchar](255) NOT NULL,
    [TokenFaceBook] [nvarchar](max),
    [FirstName] [nvarchar](255) NOT NULL,
    [LastName] [nvarchar](255) NOT NULL,
    [Country] [nvarchar](3) NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    CONSTRAINT [PK_dbo.User] PRIMARY KEY ([Id])
)
CREATE UNIQUE INDEX [IX_Email] ON [dbo].[User]([Email])
CREATE TABLE [dbo].[Post] (
    [Id] [int] NOT NULL IDENTITY,
    [Comment] [nvarchar](max),
    [Rate] [int] NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    [Activity_Id] [int] NOT NULL,
    [User_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Post] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Activity_Id] ON [dbo].[Post]([Activity_Id])
CREATE INDEX [IX_User_Id] ON [dbo].[Post]([User_Id])
CREATE TABLE [dbo].[Reservation] (
    [Id] [int] NOT NULL IDENTITY,
    [ForDate] [datetime] NOT NULL,
    [CreationDate] [datetime] NOT NULL,
    [UserCreation] [nvarchar](max),
    [LastUpdateDate] [datetime],
    [LastUpdateUser] [nvarchar](max),
    [Deleted] [bit],
    [Activity_Id] [int] NOT NULL,
    [User_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Reservation] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_Activity_Id] ON [dbo].[Reservation]([Activity_Id])
CREATE INDEX [IX_User_Id] ON [dbo].[Reservation]([User_Id])
CREATE TABLE [dbo].[ActivityCategory] (
    [Activity_Id] [int] NOT NULL,
    [Category_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ActivityCategory] PRIMARY KEY ([Activity_Id], [Category_Id])
)
CREATE INDEX [IX_Activity_Id] ON [dbo].[ActivityCategory]([Activity_Id])
CREATE INDEX [IX_Category_Id] ON [dbo].[ActivityCategory]([Category_Id])
ALTER TABLE [dbo].[ActivityImage] ADD CONSTRAINT [FK_dbo.ActivityImage_dbo.Activity_Activity_Id] FOREIGN KEY ([Activity_Id]) REFERENCES [dbo].[Activity] ([Id])
ALTER TABLE [dbo].[Post] ADD CONSTRAINT [FK_dbo.Post_dbo.Activity_Activity_Id] FOREIGN KEY ([Activity_Id]) REFERENCES [dbo].[Activity] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Post] ADD CONSTRAINT [FK_dbo.Post_dbo.User_User_Id] FOREIGN KEY ([User_Id]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Reservation] ADD CONSTRAINT [FK_dbo.Reservation_dbo.Activity_Activity_Id] FOREIGN KEY ([Activity_Id]) REFERENCES [dbo].[Activity] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Reservation] ADD CONSTRAINT [FK_dbo.Reservation_dbo.User_User_Id] FOREIGN KEY ([User_Id]) REFERENCES [dbo].[User] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ActivityCategory] ADD CONSTRAINT [FK_dbo.ActivityCategory_dbo.Activity_Activity_Id] FOREIGN KEY ([Activity_Id]) REFERENCES [dbo].[Activity] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ActivityCategory] ADD CONSTRAINT [FK_dbo.ActivityCategory_dbo.Category_Category_Id] FOREIGN KEY ([Category_Id]) REFERENCES [dbo].[Category] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201702271920592_Initial', N'SP.TourismApp.Model.Migrations.Configuration',  0x1F8B0800000000000400ED1DD96EE436F23DC0FE83A0A7DDC0E9F6810089D19DC0698F1746C663C3ED09F236A025BA2D444747A20C1B41BE6C1FF693F61796D4C94B1429A9DBB2479817378F6255B12E91C59AFFFDE7BF8B9F9F03DF7A8271E245E1D23E9A1DDA160C9DC8F5C2CDD24ED1C3773FD83FFFF48F6F161FDCE0D9FAAD1C7742C6E19961B2B41F11DA9ECEE789F3080390CC02CF89A3247A4033270AE6C08DE6C787873FCE8F8EE61083B0312CCB5ADCA621F20298FDC03F5751E8C02D4A817F15B9D04F8A76DCB3CEA05A9F4000932D70E0D25EDFCCEEA234F692E06CBB9D65E36DEBCCF70046650DFD07DB026118218030A2A79F13B84671146ED65BDC00FCBB972DC4E31E809FC08280D37AB82E2D87C78496793DB104E5A4098A02438047270573E6FCF44E2CB62BE661F67DC06C462F84EA8C854BFBCC41DE136EB22D7EB1D3951F9381520ECF32401E4C662580034B32ECA092102C48E4DF81B54A7D94C67019C214C5008FB849EF7DCFF915BEDC457FC07019A6BE4FA38C91C67D4C036EBA89A32D8CD1CB2D7C2808B9746D6BCECE9BF313AB69D49C9CC4CB109D1CDBD627BC38B8F7612511143BD6288AE1BF61086380A07B031082714860C08CA7C2EADC5AE73071626F9B6F63C1571463ADB2AD2BF0FC11861BF4B8B48FBFFFDEB62EBC67E8962D05229F430F2B219E84E2144A106D59DC4B10C02A55AE7C0E1D2F00584F6E62FC57A1EA3FD8D6DA0104A68C13EA056E626F87D03F6285F550EAD62B445868CCD9F011EFE400605631CC44E21C0B42050AFF7D872D9831306C91E212A04230F09F5A82D1C680047DDEBA185739EEBAB309D23B47F61CFA106B5AB9CE2F51E443100AB33E81276F93B18FDF268CE8268AB191B2AD5BE8674392476F9BBB85CA707DA1C75DC451701BF99461A4BABFACB179CBC43C6A1E7307E20D44FA585E0660D386613946825DDED58C59D12FC36A31AFBD81D24714D475F7112580C9478CD8474C566D34564D5B334B35CFB4BC770897419974B425D201E871E74232E9E2DBD3C51CE38E2A48264F9AA7DEAD0F01F0FCFDFBC58CA917C081583CFED8B9485E787182C89FFB279428DFEBACBC8AD21091F8B271E19329E279D75656F58574132548FE81447ABEE434D49F465563F5D1537E14D53DE5E7922E0AB710CF7ACA979762420D1010E2FB04BC840132F4B4FD10A1B2B31F2293273FD466AD82008FDCB9DEDC52AADD44D564E0DE8181ABCFE09B6C5C3D82B373D5390F7F00C4F69A1E4AE56C33B7B8522C189BD7C9A45106B2B365A3604C06AE25068DE2412CC6647EDEBEF9A16313991592F50B66403A68309B64147BA950333654674912395E3699E3257DA9C0D2F721742D8D1B865C64E85B002C39D81E795B6C81F0AFA5FDADC03A35E82AEAAC41D707FB4AD08B3945A826FDC595452B82FCFD453BDD87B3D9910EE9DCCD870472716A3A14EDACA76EC2AFC16DD7D8E5F1BBFE5ECB3DBD06238F6CDE555D87B92DB1C814726BBB0289035CD102617D707B3029D352253DACAEF6640EFBD15503CB8DC508982235B24D24A92D6E4D1D1334E9734C69ABC72A55820BD0A1AE49C60660DCC8242EF75EAB2844C0C34161C1B4F54D1103930EF82C3B34C0F816D17552C4223CF504F01A22D6FC6757E9B5CB142446E0210B85BE9017A0D43EAB050A63E555F8146EA0051CD93A19947C4B5B26174758C2E4DC9CB54C660F9F04188CB872A028791019C3243E502315F911BCA4EA05331541AC80CCCDA095EA4441A309E0558325DD842DA5C02858228B6EB4E29B1EACE0E219115225E9BD59C19D39888C50843A1AC10E857AA1180AFAE5E18D161FBB529EAB7403D5A27B69895ECCA965BC0735BD3041BD89947FD389F4B68725FA810945066BCF14CC508622BB9200F16B52CD981679680C38FA3264282129BF6DABE8A0EA5BCCF364EBA261316FC8CA5E5C81EDD60B37549676D162ADF314EDD5776BF3D4E52087317712490673856DB5128A626CFDB85E7258EFC2EC4EF51C20700FC8E1CACA0D8461422CD4E092CBE5847047DCB4D24D9753C8DF65E0259E5336E957CDCC0B4C1FB977C8488512F32F4EB548BE3CF0412C394C5C457E1A844D0792AAD94C961A0D86E9308057252733C0AA567D484516320DA668D28741E51AD370A866035855BE3103AA6AD587C41EA5D2D0D81E7D88EC792A0D91ED31A1963D34656966FBBA40CDADB11CAA2C0A57CB707166CACA6FD128C259CC392DE4F57D2E28BCF0A9C69A102D03A30CBDCD0C4CF5DD646E609AA7BE0D033329CF57A93CDC67D1501E3A3F2EE8EEA61BE6EF4695F26C55C621662D93F29840FD0A9527FF8CE8AB33B28F230D55914FDB8D861459A53480A2491F0697224AC3E2BAF4615289A0343CAAD94C92455075AB8135283335194350364E56C504EA576855F203B0BE56253B3537B72AF269BBB12A558E20AB2745A33E9C5B41F26E0DE56DD2B4AF52D39833C5BE0A475F3199EB9D72F66ED4AFCA60635C67D938298F09D4F7AC3CECA9B8FCF391B926D5FB4464A6347D07369DAA90F3FE860C3DC9E5AAC8322D75AA6F15257CCFF20A4A00DDB02B2E263A6257B2C6103BFE96A3FB969737A99ADB5D0E37FAE4577192BD351ED31EB3B7D01D313346681585AE97E5FB5C26246FB84A94D5A4B7B7647037E2EDF1293558270E95B05C7AF13D025190DEE9EF451086D9C53A27BB6507F3817D768FBEA3EDC8A10CC450BB465F40BF8D1D93A72A6847AB0A2D5444A512F6A9521146A093AAD48BB7B7D13A1A2A8E1F6E8347A4B64DE92323D9542179841F5205F0454BF5BB4A1E291237DAEBFC09991CF91052652C7AF2DC2C8BE3254130989101B3F59FFECAF7B2E39672C01508BD0798A0FCF5967D7C7874CC550A1C4FD5BE7992B8CCE33245E93E76D3F6F004CD235C6D7D64665AA34E2C7E143E81D87904B15883A067FD3B77A7F5EF06872ED4BF7BF023807A97BFEB0645F6AA8F9C05A0A15EF595BBFECF003CFF8B86D8FDE59E0C3F3368F44BBE5E0872AFF5EE3DA486605EA56D32079308BF4D11569C97BC5939A6EB85F5E2FA24B47B155A1102F3C146498CF06AEA3274E1F3D2FE2B9B776A5DFEFE859A7A605DC738163DB50EADBF07521BC98BB7B7AA2D4C8DAFDADE6BB0389B5931F7E8C0BA4C3E87DE9F29EEBDC3AC25CCEEE935A485C07AC9A450EC6B300FC7D7F21ACE75B2A5BAA4704F26873C6EDB66564BEA7D5816AE6A532F7ED39599326427711FB3B8EFDB956B6F5B87E58B69064B77AAB2F43E749E2B64D459C5267D9DF4757CFAAA4E24D1535AF52594385E9199D1AEED23D845067F3314A8A903ECA656E928E96D8FA436C09E0BB34871A8EB724870D12C3485016351833131F7C05F45618262E089595F37B1173ADE16F83C1FC46B311D3F4528AC40F23DE7700B43E2809AE8D559B3E5AEB75A83637B1B33BA14E66A49D2A27656BAA34D3BF98EA5CB68A75F43BA5AD2E5F6295D9A65DF862CF45694EFE958DFED2D999CA6978763B4377AC5F0C6E0C0F21A4CC635E6462F350DAF64462B2CCABA6D4C21D5DD57527B3501697830F97AC2A14864DA83601815461C8331618AB175AD29387AD3A27E0F34460BA35D20F2350DCDEB09CFBECC8EA9E0ECD3FA70998CD5B5015F3F8ADF3D79D54965FDCB3C737169BBF711DEE8FCECC0B43AA66C85BA4BB642B7CA99ED853355D4E8D7D66C2CAD2903AF5D74B3B1E6A60CAA6935CEB6629CB23554D53A9BF641B1E3E210D56E344A806E9DD0AA7A9D56B9D0866465A9CB96D53313B55E7530A07A62D7F21CA82333CAEA7B7ACC9027944BCF5B64B59746C98C214BA5769701C64E491EDEF52778B082A8DD89A5AD59FD106920D2FA543CA58D775DBDE53548D9515DD3EE7B26F115C2D39461C91EA062A9F97E0E4BA6414152F1ED088EFFD2905C7BE6BFCE61E26D6A10E41D69081D26F2ABC65C860F51198172189543B8CBA42B88808BC3C2B318790FC041B8DB814992FD2F2FBF013F85249FED1EBA97E1758AB629C224C3E0DE67648604B2AAF5B3AAAB2CCE8BEB2C2B3A1982048CA647EE7AAFC35F52CF772BBC2F2437590D2048845CDCD993BD44E4EE7EF35241FA14859A800AF65581FD1D0CB63E06965C876BF004BBE08645F723DC00E7A57C02D40CA47D2358B62FCE3DB08941901430EAF9F82796613778FEE9FFD0D81CDB50850000 , N'6.1.3-40302')

